<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏–π –∫–≤–∏—Ç–æ–∫</title>
<link rel="stylesheet" href="css/ticket_style.css">
<script src="JS/ticket.js" defer></script>
</head>
<body>
<div class="wrap" role="main">
  <!-- Header -->
  <header>
    <div>
      <h1 class="title-with-icon">
       <img src="img/logo.png" alt="–Ü–∫–æ–Ω–∫–∞ –∞–≤—Ç–æ–±—É—Å–∞" class="title-icon" onerror="this.style.display='none'">
         –û–ø–ª–∞—Ç–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É –≤ –æ–¥–∏–Ω –∫–ª—ñ–∫
      </h1>
      <p class="small-muted">–û–±–µ—Ä—ñ—Ç—å –º–∞—Ä—à—Ä—É—Ç ‚Äî –æ–ø–ª–∞—Ç—ñ—Ç—å ‚Äî –∑–±–µ—Ä–µ–∂—ñ—Ç—å –∫–≤–∏—Ç–æ–∫</p>
      <a class="small-muted" href="index.html">–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞ –≥–æ–ª–æ–≤–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É</a>
    </div>
    <div class="header-account">
      <div id="notLoggedUI">
        <button id="openLoginBtn" class="btn btn-ghost">–£–≤—ñ–π—Ç–∏</button>
        <button id="openRegisterBtn" class="btn">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</button>
      </div>
      <div id="loggedUI" class="hidden account-actions">
        <img id="headerAvatar" class="avatar-small" src="" alt="–ê–≤–∞—Ç–∞—Ä" onerror="this.style.display='none'">
        <div>
          <div id="headerName" class="account-name"></div>
          <div style="font-size:12px;color:var(--muted)" id="headerEmail"></div>
        </div>
        <div style="display:flex;flex-direction:column;gap:6px">
          <button id="openProfileBtn" class="btn btn-ghost" title="–ú—ñ–π –∫–∞–±—ñ–Ω–µ—Ç">–ö–∞–±—ñ–Ω–µ—Ç</button>
          <button id="logoutBtn" class="logout" title="–í–∏—Ö—ñ–¥">–í–∏–π—Ç–∏</button>
        </div>
      </div>
    </div>
  </header>

  <!-- Grid: –ª—ñ–≤–∞ + –ø—Ä–∞–≤–∞ –∫–æ–ª–æ–Ω–∫–∞ -->
  <div class="grid">
    <!-- –õ—ñ–≤–∞ –∫–æ–ª–æ–Ω–∫–∞: –ª–æ–≥—ñ–Ω —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è -->
    <div>
      <!-- Login Card (–∑–∞–º—ñ—â–µ–Ω–æ –∫–Ω–æ–ø–∫–∞–º–∏ —É —Ö–µ–¥–µ—Ä—ñ) -->
      <div class="login-card" id="loginCardInline">
        <h2>–£–≤—ñ–π–¥—ñ—Ç—å, —â–æ–± –∫—É–ø–∏—Ç–∏ –∫–≤–∏—Ç–æ–∫</h2>

        <form id="loginForm" autocomplete="off">
          <label class="muted" for="login_email">–ü–æ—à—Ç–∞ –∞–±–æ –ª–æ–≥—ñ–Ω</label>
          <input id="login_email" class="input" type="text" placeholder="–ü–æ—à—Ç–∞ –∞–±–æ –ª–æ–≥—ñ–Ω" required>

          <label class="muted" for="login_password">–ü–∞—Ä–æ–ª—å</label>
          <div class="field-with-icon">
            <input id="login_password" class="input" type="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
            <button type="button" id="toggleLoginPassword" class="icon-btn" title="–ü–æ–∫–∞–∑–∞—Ç–∏/—Å—Ö–æ–≤–∞—Ç–∏ –ø–∞—Ä–æ–ª—å">üëÅÔ∏è</button>
          </div>

          <div style="display:flex; gap:8px; margin-top:12px">
            <button type="submit" class="btn btn-cta">–£–≤—ñ–π—Ç–∏</button>
            <button type="button" id="forgotPassBtn" class="btn btn-ghost">–í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –ø–∞—Ä–æ–ª—å</button>
          </div>

          <div id="loginError" class="error">–ù–µ–≤—ñ—Ä–Ω–∏–π –ª–æ–≥—ñ–Ω –∞–±–æ –ø–∞—Ä–æ–ª—å</div>
        </form>

        <hr style="margin:14px 0; border:none; border-top:1px solid rgba(6,44,15,0.04)">

        <!-- Profile / History Card -->
        <div id="profileCard" class="profile-card hidden" aria-live="polite">
          <!-- –ü—Ä–æ—Ñ—ñ–ª—å -->
          <div class="profile-row">
            <img id="profileAvatar" class="avatar-large" src="" alt="–ê–≤–∞—Ç–∞—Ä" onerror="this.style.display='none'">
            <div class="profile-info">
              <div id="profileFullName">–Ü–º'—è –ü—Ä—ñ–∑–≤–∏—â–µ</div>
              <div id="profileEmail">email@example.com</div>
              <div id="profilePhone">+380 00 000 0000</div>
            </div>
          </div>

          <!-- –ö–Ω–æ–ø–∫–∏ –ø—ñ–¥ –ø—Ä–æ—Ñ—ñ–ª–µ–º -->
          <div class="profile-actions">
            <button id="editProfileBtn" class="btn btn-ghost">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏</button>
            <button id="viewHistoryBtn" class="btn">–Ü—Å—Ç–æ—Ä—ñ—è –ø–æ–∫—É–ø–æ–∫</button>
          </div>

          <!-- –°–µ–∫—Ü—ñ—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é -->
          <div id="profileEditSection" class="hidden">
            <h4>–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∞–∫–∞—É–Ω—Ç</h4>
            <div class="profile-edit-form">
              <input id="editFirstName" class="input" placeholder="–Ü–º'—è">
              <input id="editLastName" class="input" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ">
              <input id="editDob" class="input" type="date" placeholder="–î–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è">
              <input id="editPhone" class="input" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É">
              <input id="avatarFile" type="file" accept="image/*">
            </div>
            <div class="profile-edit-actions">
              <button id="saveProfileBtn" class="btn btn-cta">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
              <button id="cancelEditProfileBtn" class="btn btn-ghost">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            </div>
          </div>

          <!-- –°–µ–∫—Ü—ñ—è —ñ—Å—Ç–æ—Ä—ñ—ó –ø–æ–∫—É–ø–æ–∫ -->
          <div id="historySection" class="hidden">
            <h4>–Ü—Å—Ç–æ—Ä—ñ—è –ø–æ–∫—É–ø–æ–∫</h4>
            <div id="historyList" class="history-list">
              <!-- –Ü—Å—Ç–æ—Ä—ñ—è –∑–∞–ø–æ–≤–Ω—é—î—Ç—å—Å—è JS -->
            </div>
            <button id="clearHistoryBtn" class="btn btn-ghost">–û—á–∏—Å—Ç–∏—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é</button>
          </div>
        </div>
        
        <div>
          <p class="muted" style="margin:0 0 8px 0"><strong>–¶—ñ–Ω–∏ (–∑–∞–≥–∞–ª—å–Ω—ñ):</strong></p>
          <ul style="margin:0; padding-left:18px;">
            <li>–ú–∞—Ä—à—Ä—É—Ç–∫–∞ (–ª–æ–∫–∞–ª—å–Ω—ñ ‚Äî –ë—É—á–∞) ‚Äî <strong>15 –≥—Ä–Ω</strong></li>
            <li>–ú–∞—Ä—à—Ä—É—Ç–∫–∞ –≤ –Ω–∞–ø—Ä—è–º–æ–∫ <em>–Ü—Ä–ø—ñ–Ω—å</em> / <em>–ì–æ—Å—Ç–æ–º–µ–ª—å</em> ‚Äî <strong>20 –≥—Ä–Ω</strong></li>
            <li>–ú–∞—Ä—à—Ä—É—Ç–∫–∞ –¥–æ <em>–ö–∏—î–≤–∞</em> ‚Äî <strong>60 –≥—Ä–Ω</strong></li>
            <li>–ê–≤—Ç–æ–±—É—Å –ë–¢–° ‚Äî <strong>15 –≥—Ä–Ω</strong></li>
            <li>–ï–ª–µ–∫—Ç—Ä–∏—á–∫–∞ ‚Äî <strong>15 –≥—Ä–Ω</strong></li>
            <li>–ó–µ–ª–µ–Ω–∏–º –∫–æ–ª—å—Ä–æ–º –≤–∏–¥—ñ–ª–µ–Ω—ñ  –º–∞—Ä—à—Ä—É—Ç–∫–∏, –±–ª–∞–∫–∏—Ç–Ω–∏–º - –∞–≤—Ç–æ–±—É—Å–∏, —Ä–æ–∂–µ–≤–∏–º - –µ–ª–µ–∫—Ç—Ä–∏—á–∫–∏</li>
          </ul>
        </div>
      </div>

      <!-- –§—ñ–Ω–∞–ª—å–Ω–∏–π –∫–≤–∏—Ç–æ–∫ -->
      <div id="finalCard" class="final-ticket hidden" aria-live="polite">
        <h3 id="finalTitle">–ö–≤–∏—Ç–æ–∫ –¥—ñ–π—Å–Ω–∏–π</h3>
        <p class="muted" style="margin:6px 0 12px 0">–ó–±–µ—Ä–µ–∂—ñ—Ç—å –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —à—Ç—Ä–∏—Ö–∫–æ–¥</p>

        <div style="text-align:left; margin-bottom:12px">
          <div class="ticket-row"><div class="ticket-label">–ú–∞—Ä—à—Ä—É—Ç</div><div id="finalRoute" class="ticket-value"></div></div>
          <div class="ticket-row"><div class="ticket-label">–í—ñ–¥</div><div id="finalFrom" class="ticket-value"></div></div>
          <div class="ticket-row"><div class="ticket-label">–î–æ</div><div id="finalTo" class="ticket-value"></div></div>
          <div class="ticket-row"><div class="ticket-label">–ß–∞—Å –≤–∏–¥–∞—á—ñ</div><div id="finalIssue" class="ticket-value"></div></div>
          <div class="ticket-row"><div class="ticket-label">–¢–µ—Ä–º—ñ–Ω –¥—ñ—ó</div><div id="finalExpiry" class="ticket-value"></div></div>
          <div class="ticket-row"><div class="ticket-label">–°–ø–ª–∞—á–µ–Ω–æ</div><div id="finalPrice" class="ticket-value"></div></div>
        </div>

        <canvas id="barcodeCanvas" width="640" height="140" style="max-width:100%; border-radius:8px; background:#fff"></canvas>
        <div style="margin-top:10px; display:flex; gap:8px; justify-content:center">
          <button id="saveBarcode" class="download-btn">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —à—Ç—Ä–∏—Ö–∫–æ–¥</button>
          <button id="printTicket" class="btn btn-ghost">–†–æ–∑–¥—Ä—É–∫—É–≤–∞—Ç–∏</button>
        </div>
      </div>
    </div>
    <!-- –ü—Ä–∞–≤–∞ –∫–æ–ª–æ–Ω–∫–∞: –º–∞—Ä—à—Ä—É—Ç–∏ —Ç–∞ –ø–∞–Ω–µ–ª—å –∫–≤–∏—Ç–∫–∞ -->
    <div>
      <div class="routes-card" id="routesCard">
        <div class="routes-header">
          <strong>–î–æ—Å—Ç—É–ø–Ω—ñ –º–∞—Ä—à—Ä—É—Ç–∏</strong>
          <small class="muted">–ö–ª–∞—Ü–Ω—ñ—Ç—å –∫–∞—Ä—Ç–∫—É, —â–æ–± –≤–∏–±—Ä–∞—Ç–∏</small>
        </div>

        <div id="routeGrid" class="route-grid" aria-live="polite"></div>

        <!-- –ü–∞–Ω–µ–ª—å –≤–∏–±—Ä–∞–Ω–æ–≥–æ –∫–≤–∏—Ç–∫–∞ -->
        <div id="ticketPanel" class="ticket-panel hidden" style="margin-top:14px">
          <div style="display:flex; justify-content:space-between; align-items:center">
            <div>
              <div class="ticket-row"><div class="ticket-label">–ú–∞—Ä—à—Ä—É—Ç</div><div id="ticketRoute" class="ticket-value"></div></div>
              <div class="ticket-row"><div class="ticket-label">–í—ñ–¥</div><div id="ticketFrom" class="ticket-value"></div></div>
              <div class="ticket-row"><div class="ticket-label">–î–æ</div><div id="ticketTo" class="ticket-value"></div></div>
              <div class="ticket-row"><div class="ticket-label">–ß–∞—Å –≤–∏–¥–∞—á—ñ</div><div id="ticketIssue" class="ticket-value"></div></div>
              <div class="ticket-row"><div class="ticket-label">–¢–µ—Ä–º—ñ–Ω –¥—ñ—ó</div><div id="ticketExpiry" class="ticket-value"></div></div>
            </div>

            <div style="text-align:center;">
              <div class="muted">–°—É–º–∞</div>
              <div class="price-big" id="ticketPrice">‚Äî</div>
              <div class="small-muted" style="margin-top:8px">–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑</div>
              <div class="cards-row" style="margin-top:8px">
                <div class="card-logo" title="Visa">
                  <img src="https://upload.wikimedia.org/wikipedia/commons/d/d6/Visa_2021.svg" 
                      alt="Visa" width="36" height="22">
                </div>
                <div class="card-logo" title="Mastercard">
                  <svg xmlns="http://www.w3.org/2000/svg" width="36" height="22" viewBox="0 0 36 22"><rect width="36" height="22" rx="3" fill="#fff"/><g transform="translate(4,3)"><circle cx="6" cy="8" r="6" fill="#ff5f00"/><circle cx="14" cy="8" r="6" fill="#eb001b" opacity="0.95"/></g></svg>
                </div>
              </div>
              <div style="margin-top:10px">
                <button id="payBtn" class="btn btn-cta">–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –æ–ø–ª–∞—Ç–∏</button>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
  <!-- Footer -->
<footer>
  <div class="footer-content">
    <img src="img/footer_logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø" class="footer-logo" onerror="this.style.display='none'">
    <span>&copy; 2025 Created by Veronika Lebedovska</span>
  </div>
</footer>
</div>

<!-- –ú–æ–¥–∞–ª—ñ —Ç–∞ —Ñ–æ—Ä–º–∏ (–ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ) -->
<!-- –ú–æ–¥–∞–ª—å –æ–ø–ª–∞—Ç–∏ -->
<div id="modal" class="modal" role="dialog" aria-modal="true">
  <div class="modal-box">
    <h3 style="margin:0 0 6px 0">–û–ø–ª–∞—Ç–∞ –∫–≤–∏—Ç–∫–∞</h3>
    <div id="modalRoute" class="muted" style="margin-bottom:6px"></div>

    <div style="margin:10px 0">
      <div class="small-muted">–°—É–º–∞ –¥–æ –æ–ø–ª–∞—Ç–∏</div>
      <div class="price-big" id="modalPrice">‚Äî</div>
    </div>

    <div style="margin-top:8px">
      <div class="small-muted">–í–≤–µ–¥—ñ—Ç—å –¥–∞–Ω—ñ –∫–∞—Ä—Ç–∫–∏ (–¥–µ–º–æ)</div>
      <input id="cardNumber" class="input" placeholder="–ù–æ–º–µ—Ä –∫–∞—Ä—Ç–∫–∏ (XXXX XXXX XXXX XXXX)" style="margin-top:8px" maxlength="19">
      <div style="display:flex; gap:8px; margin-top:8px">
        <input id="cardExpiry" class="input" placeholder="MM/YY">
        <input id="cardCvc" class="input" placeholder="CVC">
      </div>
    </div>

    <div style="margin-top:12px" class="modal-actions">
      <button id="confirmPay" class="btn btn-cta">–û–ø–ª–∞—Ç–∏—Ç–∏</button>
      <button id="cancelPay" class="btn btn-ghost">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
    </div>
  </div>
</div>

<!-- –†–µ–≥—ñ—Å—Ç—Ä–∞—Ü—ñ—è (–º–æ–¥–∞–ª) -->
<div id="registerModal" class="modal" aria-modal="true">
  <div class="modal-box" style="max-width:480px;">
    <h3 style="margin:0 0 6px 0">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∞–∫–∫–∞—É–Ω—Ç—É</h3>
    <div style="margin-top:8px; text-align:left">
      <input id="regFirstName" class="input" placeholder="–Ü–º'—è" style="margin-top:8px">
      <input id="regLastName" class="input" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ" style="margin-top:8px">
      <input id="regDob" class="input" type="date" placeholder="–î–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è" style="margin-top:8px">
      <input id="regEmail" class="input" placeholder="–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞" style="margin-top:8px">
      <input id="regPhone" class="input" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É" style="margin-top:8px">
      <div style="display:flex; gap:8px; margin-top:8px">
        <div style="flex:1" class="field-with-icon">
          <input id="regPassword" class="input" placeholder="–ü–∞—Ä–æ–ª—å (–º—ñ–Ω 6 —Å–∏–º–≤–æ–ª—ñ–≤)" type="password">
          <button type="button" id="toggleRegPassword" class="icon-btn">üëÅÔ∏è</button>
        </div>
        <div style="flex:1">
          <input id="regPassword2" class="input" placeholder="–ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å" type="password">
        </div>
      </div>
      <div style="margin-top:8px; display:flex; gap:8px; align-items:center">
        <input id="avatarUpload" type="file" accept="image/*">
        <div class="muted" style="font-size:13px">–î–æ–¥–∞–π—Ç–µ —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ—ñ–ª—é (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)</div>
      </div>
    </div>

    <div style="margin-top:12px; display:flex; gap:8px; justify-content:center">
      <button id="registerBtn" class="btn btn-cta">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</button>
      <button id="cancelRegister" class="btn btn-ghost">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
    </div>
    <div id="registerError" class="error"></div>
  </div>
</div>

<!-- –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è (–º–æ–¥–∞–ª) -->
<div id="recoverModal" class="modal" aria-modal="true">
  <div class="modal-box">
    <h3 style="margin:0 0 6px 0">–í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è</h3>
    <div style="margin-top:8px">
      <input id="recoverEmail" class="input" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à—É –ø–æ—à—Ç—É" style="margin-top:8px">
      <div style="display:flex; gap:8px; margin-top:8px">
        <button id="sendRecoveryCode" class="btn btn-cta">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∫–æ–¥</button>
        <button id="cancelRecover" class="btn btn-ghost">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
      </div>
      <div id="recoveryNotice" class="muted" style="margin-top:8px; font-size:13px"></div>

      <!-- –∫–æ–¥ —Ç–∞ –Ω–æ–≤–∏–π –ø–∞—Ä–æ–ª—å -->
      <div id="recoverStep2" class="hidden" style="margin-top:8px">
        <input id="recoveryCode" class="input" placeholder="–ö–æ–¥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è" style="margin-top:8px">
        <input id="newPassword" class="input" placeholder="–ù–æ–≤–∏–π –ø–∞—Ä–æ–ª—å" type="password" style="margin-top:8px">
        <button id="resetPasswordBtn" class="btn btn-cta" style="margin-top:8px">–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –ø–∞—Ä–æ–ª—å</button>
      </div>
    </div>
  </div>
</div>

</body>
</html>
